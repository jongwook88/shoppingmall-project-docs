[TOC]

---

보안요소가 가장 취약한 곳이 장바구니

-> 가격에 대한 수정을 많이 시도함

-> 고의적으로 파라미터 값 

장바구니 : 회원 비회원 나누지 않음 => 둘 다 동일한 기능

회원을 비회원 회원 나눠서 하나의 장바구니에 관계를 맺음

<br>

주문 테이블 2개 구성 -> 주문, 주문 상품

주문, 주문내역

주문, 결제수단

<br>

암호화 - > db암호화 함수

password 단방향 : hash 알고리즘

복호화 필요 암호화 : sha512 (256은 보안규정 벗어남)

<br>

<시퀀스 처럼 자세하게 나와야해 기능이> 최대한 자세하게 명시하기

검색어 입력 -> 상품조회

카테고리 입력 -> 상품조회

<br>

혹시 발생할 예외상황에 대비해 필요한 개인정보의 데이터 길이의 4배정도로 더 잡는다.

<br>

상품 재고 기준 - 하나라도 팔수있으면 그 상품 판매

상품 진열 기준 - 재고가 아무리 있어도 진열이 안되어있으면 판매 X



<br>

재고관리는 옵션과 상품 둘 다에 있어야함!!!

> 상품에서 해줘야하는 케이스가 있음

<br>

주문번호(날짜-00001 : 주문번호 중복에 관한 생각) 상품번호(상품코드 : 똑같은 상품을 등록하는 경우가 있음, ) 별도 관리

<br>

---

장바구니의 역할 -> 어떤 상품을 구매할 것인지! 회원, 비회원 상관없이 기능을 갖고있음

장바구니는 쿠키사용안해! DB에 보관해! -> 쿠키는 보안에 취약함, 쿠키를 저장할수있는 max가 정해져있음



장바구니는 주문데이터를 만들기위한 모든 것을 담고 있어야함(쿠폰, 마일리지, 수량, 가격, 상품정보)

> DB에 보관하는 이유 : 재고처리 때문도 있음
>
> 재고 : 결제 된 후 재고
>
> 판매가능수량 : 재고-결제되지않은 상품들

---


